<!-- Full HTML with 5 character cards, descriptions, music, and terminal -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SFOTH Character Selector</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Orbitron', sans-serif;
      background: url('img/background.png') no-repeat center center fixed;
      background-size: cover;
      overflow: hidden;
      color: white;
    }
    .carousel {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      gap: 2rem;
    }
    .char-card {
      width: 320px;
      height: 460px;
      perspective: 1000px;
      cursor: pointer;
    }
    .card-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s;
    }
    .card-inner:hover {
      transform: rotateY(180deg);
    }
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      background-size: cover;
      background-position: center;
      border-radius: 1rem;
    }
    .card-back {
      transform: rotateY(180deg);
    }
    .char-detail {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.95);
      z-index: 999;
      color: white;
      overflow-y: auto;
      padding: 2rem;
      flex-direction: column;
      align-items: center;
    }
    .char-detail.active {
      display: flex;
    }
    .char-body {
      display: flex;
      gap: 2rem;
      justify-content: center;
      align-items: flex-start;
      flex-wrap: wrap;
    }
    .char-text {
      max-width: 400px;
    }
    .sword-img {
      max-width: 200px;
    }
    .animation {
      width: 300px;
      border-radius: 1rem;
    }
    .back-btn {
      margin-top: 2rem;
      padding: 0.7rem 2rem;
      background: #ff4444;
      color: white;
      border: none;
      border-radius: 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
    .terminal {
      position: fixed;
      bottom: 10px;
      right: 10px;
      z-index: 1000;
    }
    .terminal input {
      background: #000;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 0.5rem;
      border-radius: 0.5rem;
    }
  </style>
</head>
<body>
  <audio id="bg-music" src="background.mp3" autoplay loop></audio>

  <div class="carousel" id="main-carousel">
    <!-- Mello -->
    <div class="char-card" onclick="showDetail('mello')">
      <div class="card-inner">
        <div class="card-front" style="background-image: url('char/good/mello/mello_front_card.png')"></div>
        <div class="card-back" style="background-image: url('char/good/mello/mello_back_card.png')"></div>
      </div>
    </div>
    <!-- William -->
    <div class="char-card" onclick="showDetail('william')">
      <div class="card-inner">
        <div class="card-front" style="background-image: url('char/good/william/william_front_card.png')"></div>
        <div class="card-back" style="background-image: url('char/good/william/william_back_card.png')"></div>
      </div>
    </div>
    <!-- Ness -->
    <div class="char-card" onclick="showDetail('ness')">
      <div class="card-inner">
        <div class="card-front" style="background-image: url('char/good/ness/ness_front_card.png')"></div>
        <div class="card-back" style="background-image: url('char/good/ness/ness_back_card.png')"></div>
      </div>
    </div>
    <!-- Hikari -->
    <div class="char-card" onclick="showDetail('hikari')">
      <div class="card-inner">
        <div class="card-front" style="background-image: url('char/good/hikari/hikari_front_card.png')"></div>
        <div class="card-back" style="background-image: url('char/good/hikari/hikari_back_card.png')"></div>
      </div>
    </div>
  </div>

  <!-- Character Details for Each -->
  <div class="char-detail" id="mello-detail">
    <div class="char-body">
      <div class="char-text">
        <h1>Mello</h1>
        <p>Fast and logical hero of the story. Uses the IceDagger, fuses with Kuroko, deeply tied to Yggdrasil. Loves Sonic, skating, and says WEAVE and COUNTER often.</p>
      </div>
      <img src="char/good/mello/IceDagger.webp" alt="IceDagger" class="sword-img" />
      <img class="animation" src="char/good/mello/anim.gif" />
    </div>
    <audio id="mello-audio" autoplay loop>
      <source src="char/good/mello/music/theme.mp3" type="audio/mpeg">
    </audio>
    <button class="back-btn" onclick="hideDetail('mello')">Back</button>
  </div>

  <div class="char-detail" id="william-detail">
    <div class="char-body">
      <div class="char-text">
        <h1>William</h1>
        <p>William is the eccentric first Driborgue who believes he is the king of monsters. He wields Firebrand and is a huge fan of Murder Drones, especially V.</p>
      </div>
      <img src="char/good/william/Firebrand.webp" alt="Firebrand" class="sword-img" />
      <img class="animation" src="char/good/william/anim.gif" />
    </div>
    <audio id="william-audio" autoplay loop>
      <source src="char/good/william/music/theme.mp3" type="audio/mpeg">
    </audio>
    <button class="back-btn" onclick="hideDetail('william')">Back</button>
  </div>

  <div class="char-detail" id="ness-detail">
    <div class="char-body">
      <div class="char-text">
        <h1>Ness</h1>
        <p>Ness is strategic, calm, and protective. He's William's brother and a rival to Mello, wielding the Ghostwalker sword in its SFOTH form.</p>
      </div>
      <img src="char/good/ness/Ghostwalker.webp" alt="Ghostwalker" class="sword-img" />
      <img class="animation" src="char/good/ness/anim.gif" />
    </div>
    <audio id="ness-audio" autoplay loop>
      <source src="char/good/ness/music/theme.mp3" type="audio/mpeg">
    </audio>
    <button class="back-btn" onclick="hideDetail('ness')">Back</button>
  </div>

  <div class="char-detail" id="hikari-detail">
    <div class="char-body">
      <div class="char-text">
        <h1>Hikari</h1>
        <p>Hikari is a cheerful, future-born fighter with Windforce and telekinesis. Doesn't dance but is loved by many and is a big fan of Sae Itoshi.</p>
      </div>
      <img src="char/good/hikari/Windforce.webp" alt="Windforce" class="sword-img" />
      <img class="animation" src="char/good/hikari/anim.gif" />
    </div>
    <audio id="hikari-audio" autoplay loop>
      <source src="char/good/hikari/music/theme.mp3" type="audio/mpeg">
    </audio>
    <button class="back-btn" onclick="hideDetail('hikari')">Back</button>
  </div>

  <!-- Kuroko Detail (Hidden Zone) -->
  <div class="char-detail" id="kuroko-detail" style="background: rgba(0,0,0,0.98); display: none;">
    <h2>Kuroko</h2>
    <div class="char-body">
      <div class="char-text">
        <p>Kuroko is Melloâ€™s darker half, born from the same origin. Cold, efficient, and full of hidden power. His logic is extreme, his style elegant, and his goals unknown.</p>
      </div>
      <img class="sword-img" src="char/appart/kuroko/KurokoSword.webp" alt="Kuroko Sword" />
      <img class="animation" src="char/appart/kuroko/anim.gif" alt="Kuroko Animation" />
    </div>
    <audio id="kuroko-audio" autoplay loop>
      <source src="char/appart/kuroko/music/theme.mp3" type="audio/mpeg">
    </audio>
    <button class="back-btn" onclick="hideDetail('kuroko')">Back</button>
  </div>

  <!-- Terminal -->
  <div class="terminal">
    <input id="terminal-input" placeholder="Enter code..." onkeydown="handleTerminal(event)" />
  </div>

  <script>
    const bgMusic = document.getElementById("bg-music");
    const fadeDuration = 400;

    function showDetail(name) {
      document.getElementById(`${name}-detail`).classList.add('active');
      fadeOut(bgMusic, () => {
        const theme = document.getElementById(`${name}-audio`);
        if (theme) fadeIn(theme);
      });
    }

    function hideDetail(name) {
      document.getElementById(`${name}-detail`).classList.remove('active');
      const theme = document.getElementById(`${name}-audio`);
      if (theme) fadeOut(theme, () => fadeIn(bgMusic));
    }

    function fadeOut(audio, callback) {
      let vol = audio.volume;
      const fadeStep = vol / (fadeDuration / 25);
      const interval = setInterval(() => {
        if (audio.volume > 0.05) {
          audio.volume -= fadeStep;
        } else {
          audio.volume = 0;
          audio.pause();
          clearInterval(interval);
          if (callback) callback();
        }
      }, 25);
    }

    function fadeIn(audio) {
      audio.volume = 0;
      audio.play();
      const fadeStep = 1 / (fadeDuration / 25);
      const interval = setInterval(() => {
        if (audio.volume < 0.95) {
          audio.volume += fadeStep;
        } else {
          audio.volume = 1;
          clearInterval(interval);
        }
      }, 25);
    }

    function handleTerminal(event) {
      if (event.key === "Enter") {
        const value = event.target.value.trim().toLowerCase();
        if (value === "main") {
          location.reload();
        } else if (value === "ydolem") {
          document.getElementById("kuroko-detail").style.display = 'flex';
          fadeOut(bgMusic, () => {
            fadeIn(document.getElementById("kuroko-audio"));
          });
        }
        event.target.value = "";
      }
    }
  </script>
</body>
</html>
